import React from "react";import { Input } from "../Input/Input";import { Button } from "../Button/Button";import { useEmailValidator } from "../InputValidators/EmailValidator";import computerImage from "../../assets/computer.svg";import "./styles/style.scss";import { TrackingNumber } from "../Input/TrackingNumber";import { Captcha } from "../Captcha/Captcha";import { Overlay } from "../Overlay/Overlay";import messageSentImage from "../../assets/messageSent.svg";import axios from "axios";import { ValidIndicator } from "../Button/ValidIndicator";import {useTrackingValidator} from "../InputValidators/TrackingValidator";interface BoxProps {  sharedObject: {};}export interface TrackingNumberProps {  buildTrackingNum: {    boxOne: string;    boxTwo: string;    boxThree: string;  };  trackingNumber: string;}interface UserInputProps {  email: string;  trackingNumber: string;}export const Box: React.FC<BoxProps> = ({ sharedObject }) => {  document.title = "ראשי";  // initiating email state as empty string.  const [emailState, setEmailState] = React.useState("");  // handling modal appearance.  const [showMessageSent, setShowMessageSent] = React.useState(false);  // initiating tracking number state  const [trackingNumberState, setTrackingNumber] = React.useState<    TrackingNumberProps  >({    buildTrackingNum: {      boxOne: "",      boxTwo: "",      boxThree: "",    },    trackingNumber: "",  });  // initiating object that later will be sent to the data base.  const [userInput, setUserInput] = React.useState<UserInputProps>({    email: "",    trackingNumber: "",  });  console.log(trackingNumberState)  // returning errors object and isValid boolean, to handle UI errors. - Email  const validatedEmail = useEmailValidator(emailState);  // returning errors object and isValid boolean, to handle UI errors. - Tracking Number  const validatedTrackingNumber = useTrackingValidator(trackingNumberState);  // The state of the Validation Indicator.  const [colorState, setColorState] = React.useState("text-danger");  // function that gets an object from the validation, hook and decides the state of the indicator.  const buildColors = (validatedObject: {    errors: {      emailError?: string      trackingError?: string    }    isValid?: boolean  }) => {    if (validatedObject.isValid === false) {      setColorState("text-danger");    }    if (validatedObject.isValid === true) {      setColorState("text-success");    }    console.log(validatedEmail.isValid);  };  // const handleSubmit = (  //   e: any,  //   input: {  //     boxOne: string;  //     boxTwo: string;  //     boxThree: string;  //   }  // ) => {  //   e.preventDefault();  //   setTrackingNumber({  //     ...trackingNumberState,  //     buildTrackingNum: input,  //   });  //   console.log('submit', buildTrackingNumber())  // };  console.log(validatedTrackingNumber)  // function buildTrackingNumber() {  //   console.log(trackingNumberState)  //   const numbers = Object.values(trackingNumberState);  //   return `${numbers[0].boxThree}-${numbers[0].boxTwo}-${numbers[0].boxOne}`;  // }  // const updateDB = async () => {  //   setUserInput({  //     email: emailState,  //     trackingNumber: buildTrackingNumber(),  //   });  //   const request = axios.post(  //     "http://localhost:5000/clientActions/newClient",  //     userInput  //   );  //   const response = await request;  //   console.warn(response);  // };  // const getAll = async () => {  //   const request = axios.get("http://localhost:5000/clientActions/getClients");  //   const response = await request;  //   // buildValidation()  //   console.log(response);  // };  return (    <div className="p-2 m-2 mainBox w-100 fadeIn animated">      <div className="d-flex flex-column align-items-center">        <div className="d-inline w-50">          {    console.log(trackingNumberState)          }          <ValidIndicator            colorState={colorState}            isValid={validatedEmail?.isValid}            handleSubmit={undefined}          />          <Input            currentState={emailState}            setState={setEmailState}            length={99}            label={"הכנס כתובת דוא״ל"}            name={"email"}            inputType={"email"}            buildColors={buildColors}            validatedObject={validatedEmail}            errors={validatedEmail?.errors || undefined}          />        </div>        <hr className="w-75" />        <span>          <img className="background float-left" src={computerImage} />        </span>        <TrackingNumber          buildColors={buildColors}          handleSubmit={null}          validatedObject={null}          currentState={trackingNumberState.buildTrackingNum}          setState={setTrackingNumber}        />        {/* <Input length={4} label={"הכנס מספר מעקב"} name={"email"} /> */}        <hr className="w-75" />        <div className="captchaSection row d-flex justify-content-center mb-1">          <Captcha />        </div>        <hr className="w-50" />        <div className="row d-block">          <Button            showFunction={setShowMessageSent}            onClick={() => {              // updateDB();              console.log(trackingNumberState)            }}          />        </div>        {showMessageSent ? (          <Overlay            Component={              <div className="d-flex justify-content-center mt-2">                <img src={messageSentImage} />              </div>            }            currentState={showMessageSent}            hide={setShowMessageSent}          />        ) : null}      </div>    </div>  );};